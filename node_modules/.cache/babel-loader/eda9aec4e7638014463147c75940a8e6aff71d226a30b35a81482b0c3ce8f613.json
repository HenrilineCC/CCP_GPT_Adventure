{"ast":null,"code":"import { ethers } from \"ethers\";\nimport JewelryCertificateABI from \"./JewelryCertificateABI.json\";\nexport const getContract = async () => {\n  // 使用本地 JSON-RPC 提供者\n  const provider = new ethers.providers.JsonRpcProvider(\"http://127.0.0.1:8545\"); // 默认 Hardhat/Ganache RPC 端点\n\n  // 验证网络连接\n  const network = await provider.getNetwork();\n  console.log(\"Connected to Network:\", {\n    chainId: network.chainId,\n    name: network.name || \"unknown\"\n  });\n\n  // 获取本地网络中的第一个账户作为签名者\n  const signer = provider.getSigner(0);\n\n  // 从环境变量中读取合约地址\n  const contractAddress = process.env.REACT_APP_CONTRACT_ADDRESS;\n  if (!contractAddress) {\n    throw new Error(\"Contract address is not defined in .env file.\");\n  }\n\n  // 初始化合约实例\n  const contract = new ethers.Contract(contractAddress, JewelryCertificateABI, signer);\n  console.log(\"Contract Address:\", contractAddress);\n  return contract;\n};","map":{"version":3,"names":["ethers","JewelryCertificateABI","getContract","provider","providers","JsonRpcProvider","network","getNetwork","console","log","chainId","name","signer","getSigner","contractAddress","process","env","REACT_APP_CONTRACT_ADDRESS","Error","contract","Contract"],"sources":["/Users/sharb/Downloads/CCP_GPT_Adventure-main/frontend/src/contract.js"],"sourcesContent":["import { ethers } from \"ethers\";\nimport JewelryCertificateABI from \"./JewelryCertificateABI.json\";\n\nexport const getContract = async () => {\n    // 使用本地 JSON-RPC 提供者\n    const provider = new ethers.providers.JsonRpcProvider(\"http://127.0.0.1:8545\"); // 默认 Hardhat/Ganache RPC 端点\n\n    // 验证网络连接\n    const network = await provider.getNetwork();\n    console.log(\"Connected to Network:\", {\n        chainId: network.chainId,\n        name: network.name || \"unknown\",\n    });\n\n    // 获取本地网络中的第一个账户作为签名者\n    const signer = provider.getSigner(0);\n\n    // 从环境变量中读取合约地址\n    const contractAddress = process.env.REACT_APP_CONTRACT_ADDRESS;\n    if (!contractAddress) {\n        throw new Error(\"Contract address is not defined in .env file.\");\n    }\n\n    // 初始化合约实例\n    const contract = new ethers.Contract(contractAddress, JewelryCertificateABI, signer);\n    console.log(\"Contract Address:\", contractAddress);\n\n    return contract;\n};\n"],"mappings":"AAAA,SAASA,MAAM,QAAQ,QAAQ;AAC/B,OAAOC,qBAAqB,MAAM,8BAA8B;AAEhE,OAAO,MAAMC,WAAW,GAAG,MAAAA,CAAA,KAAY;EACnC;EACA,MAAMC,QAAQ,GAAG,IAAIH,MAAM,CAACI,SAAS,CAACC,eAAe,CAAC,uBAAuB,CAAC,CAAC,CAAC;;EAEhF;EACA,MAAMC,OAAO,GAAG,MAAMH,QAAQ,CAACI,UAAU,CAAC,CAAC;EAC3CC,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAE;IACjCC,OAAO,EAAEJ,OAAO,CAACI,OAAO;IACxBC,IAAI,EAAEL,OAAO,CAACK,IAAI,IAAI;EAC1B,CAAC,CAAC;;EAEF;EACA,MAAMC,MAAM,GAAGT,QAAQ,CAACU,SAAS,CAAC,CAAC,CAAC;;EAEpC;EACA,MAAMC,eAAe,GAAGC,OAAO,CAACC,GAAG,CAACC,0BAA0B;EAC9D,IAAI,CAACH,eAAe,EAAE;IAClB,MAAM,IAAII,KAAK,CAAC,+CAA+C,CAAC;EACpE;;EAEA;EACA,MAAMC,QAAQ,GAAG,IAAInB,MAAM,CAACoB,QAAQ,CAACN,eAAe,EAAEb,qBAAqB,EAAEW,MAAM,CAAC;EACpFJ,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEK,eAAe,CAAC;EAEjD,OAAOK,QAAQ;AACnB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}